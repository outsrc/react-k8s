{"version":3,"file":"index.js","sources":["../node_modules/fast-loops/lib/arrayReduce.js","../node_modules/css-in-js-utils/lib/assignStyle.js","../node_modules/fela/es/combineRules.js","../node_modules/react-fela/es/context.js","../node_modules/react-fela/es/useFela.js","../src/components/Cluster/styles.ts","../src/components/Cluster/index.tsx","../src/components/Namespace/styles.ts","../src/components/Namespace/index.tsx"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = arrayReduce;\n\nfunction arrayReduce(arr, reducer, initialValue) {\n  for (var i = 0, len = arr.length; i < len; ++i) {\n    initialValue = reducer(initialValue, arr[i], i, len, arr);\n  }\n\n  return initialValue;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = assignStyle;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction filterUniqueArray(arr) {\n  return arr.filter(function (val, index) {\n    return arr.lastIndexOf(val) === index;\n  });\n}\n\nfunction assignStyle(base) {\n  for (var i = 0, len = arguments.length <= 1 ? 0 : arguments.length - 1; i < len; ++i) {\n    var style = i + 1 < 1 || arguments.length <= i + 1 ? undefined : arguments[i + 1];\n\n    for (var property in style) {\n      var value = style[property];\n      var baseValue = base[property];\n\n      if (baseValue && value) {\n        if (Array.isArray(baseValue)) {\n          base[property] = filterUniqueArray(baseValue.concat(value));\n          continue;\n        }\n\n        if (Array.isArray(value)) {\n          base[property] = filterUniqueArray([baseValue].concat(_toConsumableArray(value)));\n          continue;\n        }\n\n        if (_typeof(value) === 'object') {\n          base[property] = assignStyle({}, baseValue, value);\n          continue;\n        }\n      }\n\n      base[property] = value;\n    }\n  }\n\n  return base;\n}","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nimport assignStyle from 'css-in-js-utils/lib/assignStyle';\nimport arrayReduce from 'fast-loops/lib/arrayReduce';\n\nfunction resolveRule(rule, props, renderer) {\n  if (Array.isArray(rule)) {\n    return resolveRule(combineRules.apply(undefined, _toConsumableArray(rule)), props, renderer);\n  }\n\n  if (typeof rule === 'function') {\n    return rule(props, renderer);\n  }\n\n  return rule;\n}\n\nexport default function combineRules() {\n  for (var _len = arguments.length, rules = Array(_len), _key = 0; _key < _len; _key++) {\n    rules[_key] = arguments[_key];\n  }\n\n  return function (props, renderer) {\n    return arrayReduce(rules, function (style, rule) {\n      var resolvedRule = resolveRule(rule, props, renderer);\n\n      // special combination of our special _className key\n      if (style._className) {\n        resolvedRule._className = style._className + (resolvedRule._className ? ' ' + resolvedRule._className : '');\n      }\n\n      return assignStyle(style, resolvedRule);\n    }, {});\n  };\n}","import { createContext } from 'react';\n\n// $FlowFixMe\nexport var RendererContext = createContext();\n\n// $FlowFixMe\nexport var ThemeContext = createContext();","\n// $FlowFixMe\nimport { useContext } from 'react';\nimport { combineRules } from 'fela';\n\nimport { RendererContext, ThemeContext } from './context';\n\nexport default function useFela() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var renderer = useContext(RendererContext);\n  var theme = useContext(ThemeContext) || {};\n\n  if (!renderer) {\n    throw new Error('The \"useFela\" hook can only be used  inside a \"RendererProvider\"');\n  }\n\n  var propsWithTheme = { theme: theme };\n  if (props) Object.assign(propsWithTheme, props);\n\n  function css() {\n    return renderer.renderRule(combineRules.apply(undefined, arguments), propsWithTheme);\n  }\n\n  return {\n    renderer: renderer,\n    theme: theme,\n    css: css\n  };\n}","import { IStyle } from 'fela'\n\nexport const CLUSTER: IStyle = {\n  backgroundColor: '#f8f8f8',\n  border: 'dashed 1px #bfbfbf',\n  borderRadius: '8px',\n  padding: '10px',\n  fontFamily: 'Helvetica, Arial, sans-serif',\n  display: 'flex',\n  flexDirection: 'row'\n}\n","import * as React from 'react'\nimport { useFela } from 'react-fela'\nimport { CLUSTER } from './styles'\n\ninterface ClusterProps {\n  children: React.ReactNode\n}\n\ninterface ClusterContextProps {\n  emitResource: (name: string, resource: string) => any\n}\nexport const ClusterContext = React.createContext<ClusterContextProps | null>(\n  null\n)\n\nconst Namespace: React.FunctionComponent<ClusterProps> = ({ children }) => {\n  const { css } = useFela()\n\n  const emitResource = (name: string, resource: string) => {\n    console.log(`Resource Emitted: \"${name}\":`, resource)\n  }\n\n  return (\n    <ClusterContext.Provider value={{ emitResource }}>\n      <div className={css(CLUSTER)}>{children}</div>\n    </ClusterContext.Provider>\n  )\n}\n\nexport default Namespace\n","import { IStyle } from 'fela'\n\nexport const NAMESPACE: IStyle = {\n  backgroundColor: '#f0f0f0',\n  border: 'dashed 1px #bfbfbf',\n  borderRadius: '8px',\n  padding: '10px',\n  fontFamily: 'Helvetica, Arial, sans-serif',\n  display: 'flex',\n  flexDirection: 'column',\n  flexGrow: 1,\n  marginLeft: '10px',\n  nested: {\n    ':first-of-type': {\n      marginLeft: '0'\n    }\n  }\n}\n","import * as React from 'react'\nimport { ClusterContext } from '../Cluster'\nimport { useFela } from 'react-fela'\nimport { NAMESPACE } from './styles'\n\ninterface NamespaceProps {\n  name: string\n  children: React.ReactNode\n}\n\nexport const NamespaceContext = React.createContext<string>('')\n\nconst createNamespaceResource = (name: string): string => `apiVersion: \"v1\"\nkind: \"Namespace\"\nmetadata:\n  name: \"${name}\"`\n\nconst Namespace: React.FunctionComponent<NamespaceProps> = ({\n  name,\n  children\n}) => {\n  const { css } = useFela()\n  const clusterContext = React.useContext(ClusterContext)\n  React.useEffect(() => {\n    clusterContext?.emitResource(\n      `namespace-${name}.yml`,\n      createNamespaceResource(name)\n    )\n  }, [name])\n\n  return (\n    <NamespaceContext.Provider value={name}>\n      <div className={css(NAMESPACE)}>{children}</div>\n    </NamespaceContext.Provider>\n  )\n}\n\nexport default Namespace\n"],"names":["createContext","useContext","React.createContext","React.createElement","Namespace","React.useContext","React.useEffect"],"mappings":"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"}